# pink-lang

(named after pink-floyd lol)

A (kind of) functional programming language that compiles to native

## What is pink-lang?

pink-lang is a (kind of) functional programming language with incredible performance.

It's relatively high-level, but there are a few things that make it more difficult to use than some other programming languages.

Here are the draw backs.

# Drawbacks
---

## Arguments to functions are evaluated immediately

This is a problem because you cannot effectively use a function with side-effects as an argument to another function. Here's what I mean.

This code block is pointless because it evaluates both `Println` statements, then returns the result of the first one.

```fsharp
If[
	True,
	Println["Hello world!"],
	Println["Goodbye world!"]
]
```

This next code block does what we want, though.

```fsharp
Println[
	If[
		True,
		"Hello world!",
		"Goodbye world!"
	]
]
```

Great! We can use side-effects effectively now! (see what I did there)

## Function applications are all or nothing

What I mean is that, unlike in the lambda calculus, either a function can receive all of it's arguments at once, or none of them.

Here's an example.

```fsharp
func = a.b.c.(
	Print[a, b, c, "\n"]
)

main = (
	func["a", "b"] ["c"]
)
```

This code will break.

`func` must be called with _all_ of its arguments at once.

## Static typing

Each function in pink-lang has its own type. A function named `fib` would be of type `fib`, and `collatz` would be of type `collatz`. Because pink-lang is statically typed, It is impossible to have a function that has the potential to return different types during one call.

Here's an example.

```fsharp
main = (
	If[
		True,
		Print,
		Println
	] ["Hello world!"]
)
```

# Some cool things about pink-lang

## Type inference

pink-lang infers your types and automatically uses generics for each function, so you can call a function with a String, a Number, or a Function, anything really.

## Foreign Function Interface

Because of the format of code generated by pink-lang, it's very interoperable with C++. For example, if I wanted to create a pink-lang function in C++ that printed out a value, and returned the value, it would look like this.

```c++
// the name of the function is `Put`
class Put : public Function {
public:
    template<typename A>
    auto call(A a) {
	Println().call(a) // call pink-lang's print
        return a;
    }
};
```

If you wanted to avoid using any of pink-lang's tools, you can do it yourself.

```c++
// the name of the function is `Put`
class Put : public Function {
public:
    template<typename A>
    auto call(A a) {
	cout << a.get_data() << endl; // get data from a and print it
        return a;
    }
};
```

See how easy that was?

All you have to do to use that in pink-lang is to include your c++ file with the `Include["name_of_file.cpp"]` statement!

## Simplicity and Speed

pink-lang is blazingly fast, and it's very simple too. There are only 4 datatypes: `String`, `Number`, `Pair`, and `None`.

To get command-line arguments, all one has to do is give their main function a parameter to receive them as a linked list.

```fsharp
main = your_parameter_name_here.(
	Println[your_parameter_name_here]
)
```

Super easy!

And function definitions are straight forward: just a name, an equals sign, the arguments separated by dots, and the function body. The last statement is returned at the end of the function.

## Program manager

pink-lang's program manager is incredibly easy to use. To create a new project, use `make project path="path/to/new/project"`. This command will generate this structure at the specified path.

```
.
├── include
│   └── std
│       ├── data.cpp
│       ├── error.cpp
│       ├── function.cpp
│       ├── io.cpp
│       └── logic.cpp
├── pf
├── run
├── src
│   └── main.pf
└── target
```

`pf` is the pink-lang compiler and run is a bash script that compiles and runs your program. Your pink-lang code is stored in the `src` directory. Any C++ file that you want to use in your program goes into the `include` directory, but not under `include/std`!

There is no unified system installation of pink-lang, so each project contains all the depencies it will ever need. This makes it very easy to give to someone else to compile, they won't have to install anything extra to compile your program.

If your project's `std` is out of date, you can `git pull`, and `make update path="path/to/project"`.


# Running pink-lang

To run pink-lang, you'll need a python3 installation to freeze the compiler with pyinstaller. Once, you build the compiler for your platform, however, everything else depends on stuff that should come ready with *nix machines: `make` and `g++` with `std=c++14`.

To install pink-lang on a *nix machine _(excluding the python3 installation)_, run this.

```bash
cd ~/Desktop
git clone https://github.com/adam-mcdaniel/pink-lang # Download pink-lang
cd pink-lang

make project path="../new_project" # Make new pink-lang project in ~/Desktop/new_project
make update path="../new_project"  # Update that project's version of std
cd ../new_project # Go to the project

./run # Compile and run the project!
```